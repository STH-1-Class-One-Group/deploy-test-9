<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Maptap Highway — 한국 주요 고속도로 지도</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    /* ── Variables ── */
    :root {
      --bg:        #0d0f14;
      --surface:   #161921;
      --panel:     #1e2230;
      --border:    #2a2f42;
      --accent:    #ff6b35;
      --accent2:   #00d4aa;
      --text:      #e8eaf0;
      --muted:     #6b7394;
      --road-a:    #e84040;
      --road-b:    #e87a40;
      --road-c:    #d4b800;
      --road-d:    #3ab54a;
      --road-e:    #3a80e8;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: var(--bg);
      color: var(--text);
      height: 100vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    /* ── Header ── */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      height: 52px;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
      z-index: 10;
    }
    .logo {
      font-family: 'Space Mono', monospace;
      font-size: 15px;
      font-weight: 700;
      letter-spacing: 0.08em;
      color: var(--accent);
    }
    .logo span { color: var(--text); }
    .header-meta {
      font-size: 11px;
      color: var(--muted);
      letter-spacing: 0.04em;
    }

    /* ── Main layout ── */
    .layout {
      display: grid;
      grid-template-columns: 200px 1fr;
      flex: 1;
      overflow: hidden;
    }

    /* ── Sidebar ── */
    .sidebar {
      background: var(--surface);
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      overflow-y: auto;
    }
    .sidebar-title {
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.12em;
      color: var(--muted);
      text-transform: uppercase;
      padding: 16px 16px 10px;
    }
    .road-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      cursor: pointer;
      border-left: 3px solid transparent;
      transition: background 0.15s, border-color 0.15s;
    }
    .road-item:hover { background: var(--panel); }
    .road-item.active {
      background: var(--panel);
    }
    .road-item.active[data-route="001"] { border-left-color: var(--road-a); }
    .road-item.active[data-route="002"] { border-left-color: var(--road-b); }
    .road-item.active[data-route="003"] { border-left-color: var(--road-c); }
    .road-item.active[data-route="004"] { border-left-color: var(--road-d); }
    .road-item.active[data-route="005"] { border-left-color: var(--road-e); }
    .road-dot {
      width: 12px; height: 12px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .road-label { font-size: 13px; font-weight: 500; }
    .road-sub   { font-size: 10px; color: var(--muted); margin-top: 1px; }

    /* ── Content area ── */
    .content {
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* ── Tab bar ── */
    .tab-bar {
      display: flex;
      align-items: center;
      gap: 0;
      padding: 0 16px;
      height: 44px;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
      overflow-x: auto;
    }
    .tab {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0 14px;
      height: 100%;
      font-size: 12px;
      font-weight: 500;
      color: var(--muted);
      cursor: pointer;
      border-bottom: 2px solid transparent;
      white-space: nowrap;
      transition: color 0.15s, border-color 0.15s;
    }
    .tab.active { color: var(--text); }
    .tab.active[data-route="001"] { border-bottom-color: var(--road-a); }
    .tab.active[data-route="002"] { border-bottom-color: var(--road-b); }
    .tab.active[data-route="003"] { border-bottom-color: var(--road-c); }
    .tab.active[data-route="004"] { border-bottom-color: var(--road-d); }
    .tab.active[data-route="005"] { border-bottom-color: var(--road-e); }
    .tab:hover { color: var(--text); }
    .tab-close {
      width: 16px; height: 16px;
      border-radius: 3px;
      display: grid; place-items: center;
      font-size: 11px;
      color: var(--muted);
      transition: background 0.1s, color 0.1s;
    }
    .tab-close:hover { background: var(--border); color: var(--text); }

    /* ── Map container ── */
    .map-wrapper {
      flex: 1;
      position: relative;
      overflow: hidden;
      background: var(--panel);
    }

    /* SVG map canvas */
    #map-svg {
      width: 100%;
      height: 100%;
      display: block;
    }

    /* Grid lines */
    .grid-line { stroke: var(--border); stroke-width: 0.5; }

    /* Road polyline */
    .road-path {
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-width: 2.5;
      opacity: 0.85;
      transition: opacity 0.2s;
    }
    .road-path:hover { opacity: 1; }

    /* Tollgate dots */
    .toll-dot {
      cursor: pointer;
      transition: r 0.15s;
    }
    .toll-dot:hover { r: 7; }
    .toll-dot-inner { pointer-events: none; }

    /* Tooltip */
    #tooltip {
      position: absolute;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 8px 12px;
      font-size: 12px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.15s;
      z-index: 20;
      white-space: nowrap;
    }
    #tooltip.show { opacity: 1; }
    #tooltip .tt-name { font-weight: 600; font-size: 13px; }
    #tooltip .tt-coords { color: var(--muted); font-family: 'Space Mono', monospace; font-size: 10px; margin-top: 2px; }
    #tooltip .tt-route { font-size: 10px; margin-top: 4px; }

    /* Legend */
    .legend {
      position: absolute;
      bottom: 20px;
      right: 20px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 11px;
      z-index: 10;
    }
    .legend-title { color: var(--muted); letter-spacing: 0.08em; text-transform: uppercase; font-size: 10px; margin-bottom: 8px; }
    .legend-item { display: flex; align-items: center; gap: 8px; margin-top: 5px; }
    .legend-line { width: 20px; height: 2px; border-radius: 1px; }
    .legend-dot-wrap { display: flex; align-items: center; gap: 6px; margin-top: 8px; padding-top: 8px; border-top: 1px solid var(--border); }
    .legend-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--text); border: 2px solid var(--bg); }

    /* Status bar */
    .status-bar {
      height: 26px;
      background: var(--surface);
      border-top: 1px solid var(--border);
      display: flex;
      align-items: center;
      padding: 0 16px;
      gap: 20px;
      flex-shrink: 0;
    }
    .status-item {
      font-family: 'Space Mono', monospace;
      font-size: 10px;
      color: var(--muted);
    }
    .status-item span { color: var(--accent2); }
  </style>
</head>
<body>

<header>
  <div class="logo">MAPTAP <span>Highway</span></div>
  <div class="header-meta">한국 주요 5대 고속도로 영업소 시각화</div>
</header>

<div class="layout">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-title">고속도로 노선</div>
    <div id="sidebar-list"></div>
  </aside>

  <!-- Content -->
  <div class="content">
    <!-- Tab bar -->
    <div class="tab-bar" id="tab-bar"></div>

    <!-- Map -->
    <div class="map-wrapper">
      <svg id="map-svg" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <filter id="glow">
            <feGaussianBlur stdDeviation="3" result="blur"/>
            <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
        </defs>
        <g id="grid-layer"></g>
        <g id="roads-layer"></g>
        <g id="dots-layer"></g>
      </svg>
      <div id="tooltip">
        <div class="tt-name" id="tt-name"></div>
        <div class="tt-coords" id="tt-coords"></div>
        <div class="tt-route" id="tt-route"></div>
      </div>
      <div class="legend" id="legend"></div>
    </div>

    <!-- Status bar -->
    <div class="status-bar">
      <div class="status-item">영업소 <span id="st-count">0</span>개</div>
      <div class="status-item">노선 <span id="st-routes">0</span>개</div>
      <div class="status-item">예시 데이터 (OpenAPI 연동 예정)</div>
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>